# ===================================
# RSFN Bridge - Environment Variables
# ===================================

# Application Configuration
APP_ENV=development
APP_NAME=rsfn-bridge
LOG_LEVEL=info
LOG_FORMAT=json

# gRPC Server Configuration
GRPC_PORT=9094
GRPC_ENABLED=true

# Health Check Configuration
HEALTH_PORT=8082

# Bacen RSFN API Configuration
BACEN_URL=https://rsfn-hml.bcb.gov.br/dict
BACEN_TIMEOUT=30s
BACEN_ISPB=12345678

# mTLS Certificate Configuration (ICP-Brasil A3)
CERT_PATH=/certs/cert.pem
KEY_PATH=/certs/key.pem
CA_PATH=/certs/ca-chain.pem

# XML Signer Service Configuration (Java)
XML_SIGNER_URL=http://xml-signer:8080
XML_SIGNER_TIMEOUT=10s
XML_SIGNER_KEYSTORE_PATH=/certs/keystore.p12
XML_SIGNER_KEYSTORE_PASSWORD=changeit
XML_SIGNER_ALIAS=lbpay-dict

# Pulsar Configuration (Async Operations)
PULSAR_ENABLED=true
PULSAR_URL=pulsar://pulsar:6650
PULSAR_TOPIC_REQ_IN=rsfn-dict-req-out
PULSAR_TOPIC_RES_OUT=rsfn-dict-res-out
PULSAR_SUBSCRIPTION=bridge-dict-subscription
PULSAR_CONSUMER_NAME=bridge-dict-consumer

# Circuit Breaker Configuration
CIRCUIT_BREAKER_ENABLED=true
CIRCUIT_BREAKER_MAX_FAILURES=5
CIRCUIT_BREAKER_TIMEOUT=30s
CIRCUIT_BREAKER_HALF_OPEN_MAX_REQUESTS=3
CIRCUIT_BREAKER_INTERVAL=10s

# OpenTelemetry Configuration
OTEL_ENABLED=true
OTEL_SERVICE_NAME=rsfn-bridge
OTEL_EXPORTER_OTLP_ENDPOINT=http://jaeger:14268/api/traces
JAEGER_ENDPOINT=http://jaeger:14268/api/traces

# Prometheus Metrics Configuration
PROMETHEUS_ENABLED=true
PROMETHEUS_PORT=9090
PROMETHEUS_PATH=/metrics

# Retry Configuration (Simple Retry - Non-Durable)
RETRY_ENABLED=true
RETRY_MAX_ATTEMPTS=3
RETRY_INITIAL_DELAY=1s
RETRY_MAX_DELAY=10s
RETRY_BACKOFF_MULTIPLIER=2.0

# Security Configuration
TLS_MIN_VERSION=1.2
TLS_MAX_VERSION=1.3

# Performance Configuration
MAX_CONCURRENT_REQUESTS=100
REQUEST_TIMEOUT=30s
IDLE_TIMEOUT=120s
READ_TIMEOUT=30s
WRITE_TIMEOUT=30s

# Development/Testing Configuration
MOCK_BACEN=false
MOCK_BACEN_URL=http://wiremock:8080
ENABLE_DEBUG_LOGS=false
ENABLE_SOAP_LOGGING=false
